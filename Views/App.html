<!DOCTYPE html>
<html>
  <title>App</title>
  <link rel="stylesheet" href="../public/Styles/main.css" />
  <script defer src="../public/Scripts/main.js"></script>

  <body class="min-h-screen" x-data="init">
    <header class="md-relative sticky top-0 z-20 bg-white shadow-sm">
      <div
        class="mx-auto flex max-w-7xl items-center justify-between lg:px-8"
        aria-label="Global"
      >
        <a href="#" class="-m-1.5 p-1.5">
          <span class="sr-only">Logo</span>
          <img
            class="h-8 w-auto"
            src="https://www.wuerzburg.de/__/images/2017/logo.svg"
            alt=""
          />
        </a>
        <div class="py-6">
          <a
            id="LogoutButton"
            href="#"
            class="bg-white-50 block hidden rounded-lg border bg-gray-50 px-3 py-1.5 text-base font-semibold leading-7 text-gray-900 hover:bg-gray-100 active:shadow-inner"
            x-data="login"
            @click="logout"
            >Log out</a
          >
        </div>
      </div>
    </header>

    <div
      id="Login"
      class="absolute top-0 flex hidden h-full w-full items-center justify-center"
    >
      <div class="rounded-lg border p-10 shadow">
        <p class="pb-10">
          Please log in to give this app access to your Nextcloud Account.
        </p>
        <form x-data="login" @submit.prevent="saveCookieAndReload">
          todo add label and placeholder
          <input
            id="username"
            type="text"
            class="mx-auto mb-4 inline rounded-lg border bg-white px-3 py-1.5 text-base text-gray-900 hover:cursor-text hover:bg-gray-50 active:shadow-inner"
          />
          <input
            id="password"
            type="password"
            class="mx-auto mb-4 inline rounded-lg border bg-white px-3 py-1.5 text-base text-gray-900 hover:cursor-text hover:bg-gray-50 active:shadow-inner"
          />
          <button
            class="bg-white-50 mx-auto mb-12 block rounded-lg border bg-gray-50 px-3 py-1.5 text-center text-base font-semibold leading-7 text-gray-900 hover:cursor-pointer hover:bg-gray-100 active:shadow-inner"
            type="submit"
          >
            Log in with existing client account
          </button>
        </form>
        <div
          class="bg-white-50 mx-auto mb-10 block rounded-lg border bg-gray-50 px-3 py-1.5 text-center text-base font-semibold leading-7 text-gray-900 hover:cursor-pointer hover:bg-gray-100 active:shadow-inner"
          x-data="login"
          x-init="initNextcloudLogin"
          @click="openNextcloudLogin"
        >
          Create new client account
        </div>
        <div class="text-xs">Add Accordion with Additional Information</div>
      </div>
    </div>
    <div id="DeckSelection" class="fixed h-full" x-data="decks">
      <div
        id="DeckNav"
        class="relative z-10 inline-block hidden h-full bg-white md:min-w-80"
      >
        <nav class="h-full w-full shadow-sm">
          <ul x-data="$store.decks">
            <template x-for="deck in decks">
              <li class="border-b-2 border-gray-50" @click="openDeck(deck.id)">
                <a
                  x-text="deck.title"
                  href="#"
                  class="block w-full p-3 hover:bg-gray-100"
                >
                </a>
              </li>
            </template>
          </ul>
        </nav>
      </div>
      <div
        class="relative left-0 top-20 z-0 inline-block -translate-x-1/3 rotate-90 rounded-t-lg border bg-gray-50 bg-white p-4 shadow-sm hover:cursor-pointer hover:bg-gray-100"
        @click="toggle"
      >
        <div class="">Your Decks</div>
      </div>
    </div>
    <div id="MainContent" class="top-0 z-0 m-auto w-full justify-center">
      <div class="m-auto">
        <h1 class="text-center">Your unscheduled tasks</h1>
        <div id="UnscheduledCards"></div>
      </div>
      <div>
        <h1 class="text-center">Gantt chart</h1>
        <div id="GanttChart"></div>
      </div>
    </div>
  </body>
</html>
